This demo uses data from [Google's Political Ads Transparency Report](https://adstransparency.google.com/political?political&region=US) to help you understand the art of the possible with Malloy. The data is a subset of the data provided by Google Cloud's [Public Datasets Program](https://console.cloud.google.com/marketplace/product/transparency-report/google-political-ads) to include ads run during the 2022 US election cycle. The tables are extracted to Google Cloud Storage as parquet files using a [Dataflow template](https://cloud.google.com/dataflow/docs/guides/templates/provided-batch#bigquery-export-to-parquet-via-storage-api), then a [function running in Google Cloud Functions](https://github.com/shanecglass/malloy_demos/blob/main/political_ads/sync-gcs-to-gh.py) commits the data files to this repo. This runs daily to ensure the latest data is available. 

The queries are defined using Malloy ([Check out the Malloy repo to learn more](https://github.com/malloydata/malloy/blob/main/README.md)) and they are computed in-browser using [DuckDB's WASM capabilities](https://duckdb.org/2021/10/29/duckdb-wasm.html). The results of these queries can be explored using either [Malloy's Composer](https://shanecglass.github.io/malloy_demos/political_ads/) or [Malloy's Fiddle](https://shanecglass.github.io/malloy_demos/political_ads/fiddle.html). This repo is then deployed to a GitHub page, which provides the hosting capabilities for the Composer and Fiddle apps. 

Interested in learn more about Malloy? Check out the [Malloy Data Repo](https://github.com/malloydata/malloy/blob/main/README.md). You can get started modeling and querying data with Malloy using [the Malloy Fiddle site](https://malloydata.github.io/malloy/fiddle/index.html?q=12+-+Line+Chart+with+two+dimension%3A+Flights+by+Month+and+Length&m=Flights&t=)
